---
import decorCategory from "../../../assets/decorCategory";
import Hero from "../../../components/Hero.astro";
import ListsMaker from "../../../components/ListsMaker.astro";
import Layout from "../../../layouts/Layout.astro";

export function getStaticPaths() {
  return decorCategory.map((item) => ({
    params: {
      category: item.link.split("/")[0],
      subCategory: item.link.split("/")[1],
    },
    props: {
      title: item.category,
      desc: item.desc,
      built: item.built,
      list: item.list,
      holder: item.holder,
    },
  }));
}

const { title, desc, built, list, holder } = Astro.props;
---

<Layout>
  <Hero title={`${title} by Gold Springs`} subTitle={desc} />
  <section class="m-4 lg:m-6">
    <div>
      {
        !built ? (
          <div class="text-xl lg:text-2xl">Coming soon...</div>
        ) : (
          <ListsMaker list={list} holder={holder} />
        )
      }
    </div>
  </section>
</Layout>
